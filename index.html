<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Din egen ordbog.</title>
<link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&display=swap" rel="stylesheet">
<style>
  body {
    margin: 0;
    padding: 0;
    font-family: 'Comic Neue', cursive;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: #fff;
    overflow: hidden;
    background: linear-gradient(135deg, #1f1c2c, #928dab);
  }

  h1 {
    font-size: clamp(2rem, 6vw, 4rem);
    text-align: center;
    margin-bottom: 5vh;
    color: #fff;
    animation: glow 2s infinite;
    text-shadow: 0 0 10px #ff6f61, 0 0 20px #ffb347;
    padding: 0 2vw;
  }

  @keyframes glow {
    0%, 100% { text-shadow: 0 0 10px #ff6f61, 0 0 20px #ffb347; }
    50% { text-shadow: 0 0 20px #ff6f61, 0 0 40px #ffb347; }
  }

  .particle {
    position: absolute;
    font-weight: bold;
    pointer-events: none;
    user-select: none;
    text-shadow: 1px 1px 2px #00000050;
  }

  .button {
    background: linear-gradient(135deg, #ff9a9e, #fad0c4);
    color: #fff;
    border: none;
    border-radius: 15px;
    padding: clamp(10px, 3vw, 20px) clamp(20px, 5vw, 50px);
    font-size: clamp(1rem, 4vw, 1.5rem);
    font-weight: bold;
    cursor: pointer;
    margin: 2vh 0;
    box-shadow: 0 0 15px rgba(255,255,255,0.3);
    transition: all 0.3s ease;
  }

  .button:hover {
    transform: scale(1.1) rotate(-2deg);
    box-shadow: 0 0 25px rgba(255,255,255,0.7);
  }

  .buttons-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 90%;
    max-width: 500px;
    z-index: 10;
  }

  @media (max-width: 500px) {
    h1 { font-size: clamp(1.5rem, 7vw, 3rem); }
    .button { font-size: clamp(0.9rem, 5vw, 1.2rem); }
  }
</style>
</head>
<body>
<h1>üéâ Din egen ordbog. L√¶r nemt nye ord. üéÆ</h1>

<div class="buttons-container">
  <button class="button" onclick="openModeSelect('pc')">Start Game from PC</button>
  <button class="button" onclick="openModeSelect('mobile')">Start Game from Mobile</button>
  <button class="button" onclick="location.href='setupSentences.html'">Setup Sentences</button>
  <button class="button" onclick="location.href='setupWord.html'">Setup Words</button>
  <button class="button" onclick="openHuskSelect()">Husker ny oret</button>
</div>

<div id="particles-container"></div>

<!-- ===== MODAL GAME ===== -->
<div id="modeModal" class="modal">
  <div class="modal-content">
    <h2>üéÆ Choose game mode</h2>
    <button class="button" onclick="startGame('words')">üß† Words</button>
    <button class="button" onclick="startGame('sentences')">üìò Sentences</button>
    <button class="button close-btn" onclick="closeModal()">‚ùå Cancel</button>
  </div>
</div>

<!-- ===== MODAL HUSK ===== -->
<div id="huskModal" class="modal">
  <div class="modal-content">
    <h2>üìñ V√¶lg Husk-side</h2>
    <button class="button" onclick="openHuskPage('husk.html')">Words</button>
    <button class="button" onclick="openHuskPage('husk_set.html')">Dialog</button>
    <button class="button close-btn" onclick="closeHuskModal()">‚ùå Cancel</button>
  </div>
</div>

<style>
.modal{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 9999;
}
.modal-content{
  background: rgba(30,30,40,0.95);
  padding: 25px;
  border-radius: 20px;
  text-align: center;
  min-width: 280px;
  box-shadow: 0 0 30px rgba(0,0,0,0.5);
}
.close-btn{
  background: #444;
}
</style>

<script>
const isMobile = /Mobi|Android/i.test(navigator.userAgent);
const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ√Ü√ò√Ö';
const numParticles = 20;
const particles = [];
const container = document.getElementById('particles-container');

// ===== GAME MODAL =====
let selectedPlatform = 'pc';
function openModeSelect(platform){
  selectedPlatform = platform;
  document.getElementById('modeModal').style.display = 'flex';
}
function closeModal(){
  document.getElementById('modeModal').style.display = 'none';
}
function startGame(mode){
  closeModal();
  if(selectedPlatform === 'pc'){
    location.href = mode==='words' ? 'game.html' : 'gameSentences.html';
  } else {
    location.href = mode==='words' ? 'gameM.html' : 'gameSentences.html';
  }
}

// ===== HUSK MODAL =====
function openHuskSelect(){
  document.getElementById('huskModal').style.display = 'flex';
}
function closeHuskModal(){
  document.getElementById('huskModal').style.display = 'none';
}
function openHuskPage(page){
  closeHuskModal();
  location.href = page;
}

// ===== COLORS & PARTICLES =====
function randomColor() {
  const r = Math.floor(Math.random()*256);
  const g = Math.floor(Math.random()*256);
  const b = Math.floor(Math.random()*256);
  return {r, g, b};
}
function colorToString(c){
  return `rgb(${c.r},${c.g},${c.b})`;
}
function lerpColor(a, b, t){
  return { r: a.r + (b.r - a.r)*t, g: a.g + (b.g - a.g)*t, b: a.b + (b.b - a.b)*t };
}

// –°–æ–∑–¥–∞–µ–º –±—É–∫–≤—ã
for(let i=0; i<numParticles; i++){
  const p = document.createElement('div');
  p.classList.add('particle');
  p.textContent = letters[Math.floor(Math.random() * letters.length)];
  p.x = Math.random() * (window.innerWidth - 50);
  p.y = Math.random() * (window.innerHeight - 50);
  p.radius = Math.random() * 25 + 20;
  p.size = p.radius*2;
  p.vx = (Math.random() * 2 - 1) * 1.5;
  p.vy = (Math.random() * 2 - 1) * 1.5;
  p.currentColor = randomColor();
  p.targetColor = randomColor();
  p.colorProgress = 0;
  p.el = p;
  p.el.style.fontSize = p.size + 'px';
  p.el.style.color = colorToString(p.currentColor);
  container.appendChild(p);
  particles.push(p);
}

particles.forEach(p => p.el = p);

let mouseX = window.innerWidth/2;
let mouseY = window.innerHeight/2;
if(!isMobile){
  window.addEventListener('mousemove', e => { mouseX = e.clientX; mouseY = e.clientY; });
}

// –°–º–µ–Ω–∞ –±—É–∫–≤ –∫–∞–∂–¥—ã–µ 1 —Å–µ–∫—É–Ω–¥—É
setInterval(() => {
  const p = particles[Math.floor(Math.random() * particles.length)];
  p.textContent = letters[Math.floor(Math.random() * letters.length)];
  p.targetColor = randomColor();
  p.x = Math.random() * (window.innerWidth - p.radius*2);
  p.y = Math.random() * (window.innerHeight - p.radius*2);
}, 1000);

// ---- –í—Ä–∞—â–∞—é—â–∏–π—Å—è –≥—Ä–∞–¥–∏–µ–Ω—Ç ----
const baseColors = [
  ['#1f1c2c', '#928dab'],
  ['#2c1f3b', '#a0a0d0'],
  ['#1a1622', '#7f7faa'],
  ['#231f34', '#9aa0c5']
];

let angle = 0;
let gradientIndex = 0;
let t = 0;

function updateBackground() {
  t += 0.0015;
  if (t > 1) { t = 0; gradientIndex = (gradientIndex + 1) % baseColors.length; }
  const nextIndex = (gradientIndex + 1) % baseColors.length;

  function lerpHex(a,b,t){
    const r = Math.round(parseInt(a.slice(1,3),16)*(1-t) + parseInt(b.slice(1,3),16)*t);
    const g = Math.round(parseInt(a.slice(3,5),16)*(1-t) + parseInt(b.slice(3,5),16)*t);
    const b_ = Math.round(parseInt(a.slice(5,7),16)*(1-t) + parseInt(b.slice(5,7),16)*t);
    return `rgb(${r},${g},${b_})`;
  }

  const color1 = lerpHex(baseColors[gradientIndex][0], baseColors[nextIndex][0], t);
  const color2 = lerpHex(baseColors[gradientIndex][1], baseColors[nextIndex][1], t);

  angle += 0.2;
  if (angle >= 360) angle = 0;

  document.body.style.background = `linear-gradient(${angle}deg, ${color1}, ${color2})`;
  requestAnimationFrame(updateBackground);
}

updateBackground();

// ---- –ê–Ω–∏–º–∞—Ü–∏—è –±—É–∫–≤ ----
function animate(){
  particles.forEach(p => {
    if(isMobile){
      p.x += p.vx;
      p.y += p.vy;
      if(p.x < 0 || p.x > window.innerWidth - p.radius*2) p.vx *= -1;
      if(p.y < 0 || p.y > window.innerHeight - p.radius*2) p.vy *= -1;
    } else {
      const dx = mouseX - (p.x + p.radius);
      const dy = mouseY - (p.y + p.radius);
      p.x += dx * 0.01;
      p.y += dy * 0.01;
    }

    // –û—Ç—Ç–∞–ª–∫–∏–≤–∞–Ω–∏–µ
    particles.forEach(other => {
      if(p === other) return;
      const dx = p.x - other.x;
      const dy = p.y - other.y;
      const dist = Math.sqrt(dx*dx + dy*dy);
      const minDist = p.radius + other.radius;
      if(dist < minDist && dist > 0){
        const angle = Math.atan2(dy, dx);
        const overlap = (minDist - dist)/2;
        p.x += Math.cos(angle) * overlap;
        p.y += Math.sin(angle) * overlap;
        other.x -= Math.cos(angle) * overlap;
        other.y -= Math.sin(angle) * overlap;
      }
    });

    p.el.style.fontSize = (p.size * (0.9 + 0.2 * Math.sin(Date.now()/500 + p.radius))) + 'px';
    p.colorProgress += 0.01;
    if(p.colorProgress > 1){
      p.colorProgress = 0;
      p.currentColor = p.targetColor;
      p.targetColor = randomColor();
    }
    const col = lerpColor(p.currentColor, p.targetColor, p.colorProgress);
    p.el.style.color = colorToString(col);
    p.el.style.left = p.x + 'px';
    p.el.style.top = p.y + 'px';
  });

  requestAnimationFrame(animate);
}

animate();

window.addEventListener('resize', () => {
  particles.forEach(p => {
    if(p.x > window.innerWidth) p.x = Math.random() * window.innerWidth;
    if(p.y > window.innerHeight) p.y = Math.random() * window.innerHeight;
  });
});
</script>
</body>


</html>

