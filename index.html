<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Din egen ordbog.</title>
<link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&display=swap" rel="stylesheet">
<style>
  body {
    margin: 0;
    padding: 0;
    font-family: 'Comic Neue', cursive;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: #fff;
    overflow: hidden;
    background: linear-gradient(135deg, #1f1c2c, #928dab);
  }

  h1 {
    font-size: clamp(2rem, 6vw, 4rem);
    text-align: center;
    margin-bottom: 5vh;
    color: #fff;
    animation: glow 2s infinite;
    text-shadow: 0 0 10px #ff6f61, 0 0 20px #ffb347;
    padding: 0 2vw;
  }

  @keyframes glow {
    0%, 100% { text-shadow: 0 0 10px #ff6f61, 0 0 20px #ffb347; }
    50% { text-shadow: 0 0 20px #ff6f61, 0 0 40px #ffb347; }
  }

  .particle {
    position: absolute;
    font-weight: bold;
    pointer-events: none;
    user-select: none;
    text-shadow: 1px 1px 2px #00000050;
  }

  .button {
    background: linear-gradient(135deg, #ff9a9e, #fad0c4);
    color: #fff;
    border: none;
    border-radius: 15px;
    padding: clamp(10px, 3vw, 20px) clamp(20px, 5vw, 50px);
    font-size: clamp(1rem, 4vw, 1.5rem);
    font-weight: bold;
    cursor: pointer;
    margin: 2vh 0;
    box-shadow: 0 0 15px rgba(255,255,255,0.3);
    transition: all 0.3s ease;
  }

  .button:hover {
    transform: scale(1.1) rotate(-2deg);
    box-shadow: 0 0 25px rgba(255,255,255,0.7);
  }

  .buttons-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 90%;
    max-width: 500px;
    z-index: 10;
  }

  @media (max-width: 500px) {
    h1 { font-size: clamp(1.5rem, 7vw, 3rem); }
    .button { font-size: clamp(0.9rem, 5vw, 1.2rem); }
  }
</style>
</head>
<body>
<h1>üéâ Din egen ordbog. L√¶r nemt nye ord. üéÆ</h1>

<div class="buttons-container">
  <button class="button" onclick="openModeSelect('pc')">Start Game from PC</button>
  <button class="button" onclick="openModeSelect('mobile')">Start Game from Mobile</button>
  <button class="button" onclick="location.href='setupSentences.html'">Setup Sentences</button>
  <button class="button" onclick="location.href='setupWord.html'">Setup Words</button>
  <button class="button" onclick="location.href='husk.html'">Husker ny oret</button>
</div>

<div id="particles-container"></div>

<!-- ===== MODAL ===== -->
<div id="modeModal" class="modal">
  <div class="modal-content">
    <h2>üéÆ Choose game mode</h2>
    <button class="button" onclick="startGame('words')">üß† Words</button>
    <button class="button" onclick="startGame('sentences')">üìò Sentences</button>
    <button class="button close-btn" onclick="closeModal()">‚ùå Cancel</button>
  </div>
</div>

<style>
.modal{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 9999;
}
.modal-content{
  background: rgba(30,30,40,0.95);
  padding: 25px;
  border-radius: 20px;
  text-align: center;
  min-width: 280px;
}
.close-btn{
  background: #444;
}
</style>

<script>
const isMobile = /Mobi|Android/i.test(navigator.userAgent);
const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ√Ü√ò√Ö';
const numParticles = 20;
const particles = [];
const container = document.getElementById('particles-container');

let selectedPlatform = 'pc';

function openModeSelect(platform){
  selectedPlatform = platform;
  document.getElementById('modeModal').style.display = 'flex';
}

function closeModal(){
  document.getElementById('modeModal').style.display = 'none';
}

function startGame(mode){
  closeModal();

  if(selectedPlatform === 'pc'){
    if(mode === 'words') location.href = 'game.html';
    if(mode === 'sentences') location.href = 'gameSentences.html';
  } else {
    if(mode === 'words') location.href = 'gameM.html';
    if(mode === 'sentences') location.href = 'gameSentences.html';
  }
}

function randomColor() {
  return {
    r: Math.random()*255,
    g: Math.random()*255,
    b: Math.random()*255
  };
}

function colorToString(c){
  return `rgb(${c.r|0},${c.g|0},${c.b|0})`;
}

function lerpColor(a, b, t){
  return {
    r: a.r + (b.r - a.r)*t,
    g: a.g + (b.g - a.g)*t,
    b: a.b + (b.b - a.b)*t
  };
}

/* === –ß–ê–°–¢–ò–¶–´ ‚Äî –¢–í–û–Ø –õ–û–ì–ò–ö–ê, –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô === */

for(let i=0;i<numParticles;i++){
  const p = document.createElement('div');
  p.className = 'particle';
  p.textContent = letters[Math.random()*letters.length|0];
  p.radius = Math.random()*25+20;
  p.size = p.radius*2;
  p.x = Math.random()*(innerWidth-p.size);
  p.y = Math.random()*(innerHeight-p.size);
  p.vx = (Math.random()*2-1)*1.5;
  p.vy = (Math.random()*2-1)*1.5;
  p.currentColor = randomColor();
  p.targetColor = randomColor();
  p.colorProgress = 0;
  p.style.fontSize = p.size+'px';
  p.style.color = colorToString(p.currentColor);
  container.appendChild(p);
  particles.push(p);
}

let mouseX = innerWidth/2, mouseY = innerHeight/2;
if(!isMobile){
  addEventListener('mousemove',e=>{
    mouseX=e.clientX; mouseY=e.clientY;
  });
}

setInterval(()=>{
  const p = particles[Math.random()*particles.length|0];
  p.textContent = letters[Math.random()*letters.length|0];
  p.targetColor = randomColor();
},1000);

function animate(){
  particles.forEach(p=>{
    if(isMobile){
      p.x+=p.vx; p.y+=p.vy;
      if(p.x<0||p.x>innerWidth-p.size) p.vx*=-1;
      if(p.y<0||p.y>innerHeight-p.size) p.vy*=-1;
    }else{
      p.x+=(mouseX-p.x)*0.01;
      p.y+=(mouseY-p.y)*0.01;
    }

    p.colorProgress+=0.01;
    if(p.colorProgress>1){
      p.colorProgress=0;
      p.currentColor=p.targetColor;
      p.targetColor=randomColor();
    }

    p.style.color=colorToString(lerpColor(p.currentColor,p.targetColor,p.colorProgress));
    p.style.left=p.x+'px';
    p.style.top=p.y+'px';
  });

  requestAnimationFrame(animate);
}
animate();
</script>
</body>

</html>
